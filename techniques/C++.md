## Print an integer in binary
```
#include <bitset>
#include <iostream>
int a = 4;
cout << bitset<8>(a)<<endl;
```

## Execution function before main
declare a function with
```
__attribute__((constructor(CONST_PRIO)))
```

## Valgrind
Massif heap profiler

## call c function from c++
remember to wrap the c header(although with the same suffix ".h") with 
```
extern "C"{
  xxx
}
```
otherwise, although the C function will be arched into the same (static) binary with the C++ functions,
the symbol will not be correctly resolved. As a consequence, you will have runtime undefined symbolc error.

More specifically, the name of symbols(say a function) compiled from C will not match the name which is referenced in C++(because C++ will mangle the name), thus when linking undefined symbol error will occur.

## two AND conditions e.g. if (a && b)
always `a` get evaluated first, if a is false, then b will not be evaluated. 

## default value for function parameter
should only set the default value in the function declaration, should not be defined again in the function's implmenetation.

## if you want to see a function that failed
if you want to know how it failed, but you only know it failed after it failed, you can just replay the failure again after it failed.

## stupiest bug error
trace_it = eachInter->second.erase(trace_it);
delete(*trace_it);

## generate callgraph for C++ projects
https://visdap.blogspot.com/2019/05/how-to-generate-calling-graph-for-c-code.html
https://www.xspdf.com/resolution/52366121.html
this website is comphrehensive
- clang
        1. generate (and merge) bitcode for all compiling units
        2. opt -analyze -dot-callgraph  && dot -Tpng -o callgraph.png
        3. unmangle the function names with `c++filt`
- doxygen
(this one doesn't look so accurate, some call edges are even missing)
- CppDepend


### Conclusion
the callgraph generated by doxygen sucks! It's super incomplete.
To use clang to build call graph is easy!
For a huge project, just use cmake to output the compile option, and compile that single file!
And use the generated bit code for the callgraph analysis!

## mix C/C++ code
https://isocpp.org/wiki/faq/mixing-c-and-cpp

## boost:
### graph library
https://www.technical-recipes.com/2015/getting-started-with-the-boost-graph-library/
### add vertex properties
https://www.boost.org/doc/libs/1_42_0/libs/graph/doc/bundles.html


## how to silence unused parameter warning, when you really don't have to use the parameters
https://stackoverflow.com/questions/1486904/how-do-i-best-silence-a-warning-about-unused-variables

## when cout does not print, remember to add cout.flush()

## lambda capture
https://thispointer.com/c11-lambda-how-to-capture-local-variables-inside-lambda/

## reinterpret_cast
https://stackoverflow.com/a/25902515/7244310

## instruction profiler
- valgrind + kcachegrind
https://stackoverflow.com/a/771005/7244310
or valgrind + gprof2dot
## time profiler
https://stackoverflow.com/questions/6663614/use-valgrind-to-know-timein-seconds-spent-in-each-function
https://developer.ridgerun.com/wiki/index.php/Profiling_with_GPerfTools